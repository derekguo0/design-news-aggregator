# è®¾è®¡è¾¾äººçˆ¬è™«ä¿®å¤æ–¹æ¡ˆ

## ğŸ“Š é—®é¢˜åˆ†æ

### å†å²æ•°æ®
- **7æœˆ26æ—¥**ï¼šâœ… æˆåŠŸæŠ“å–5æ¡æ•°æ®
- **12æœˆ26æ—¥**ï¼šâŒ æœªæŠ“å–åˆ°æ•°æ®

### å½“å‰é…ç½®
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "selectors": {
    "item": "article section.post",
    "title": ".title a",
    "link": ".title a",
    "image": ".wp-post-image",
    "author": ".author"
  },
  "enabled": true,
  "limit": 5
}
```

### å†å²æˆåŠŸæ¡ˆä¾‹ï¼ˆ2025-07-26ï¼‰
æŠ“å–åˆ°çš„æ–‡ç« ç¤ºä¾‹ï¼š
1. å°ç™½å¦‚ä½•ç”¨AIä¿®å›¾ï¼Ÿä¸‰åˆ†é’Ÿå­¦ä¼šè±†åŒ…AIä¿®å›¾åŠŸèƒ½
2. ä¸‰è°·å“ç‰Œæ‰‹å†Œè®¾è®¡PDF
3. å…è´¹è§†é¢‘å‹ç¼©ç¥å™¨ HandBrake
4. ç®€å•æ’ç‰ˆï¼Œå¦‚ä½•åšå‡ºä¸€å¼ é«˜çº§æ„Ÿæµ·æŠ¥
5. ä½“éªŒå‹å¥½çš„ä¸‹æ‹‰èœå•è®¾è®¡

URLæ ¼å¼ï¼š`https://www.shejidaren.com/xxx.html`

---

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ›´æ–°CSSé€‰æ‹©å™¨ï¼ˆæ¨èï¼‰â­â­â­

åŸºäºWordPressç½‘ç«™çš„å¸¸è§ç»“æ„ï¼Œå°è¯•ä»¥ä¸‹é€‰æ‹©å™¨ç»„åˆï¼š

#### é…ç½®Aï¼šæ ‡å‡†WordPressæ–‡ç« åˆ—è¡¨
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "selectors": {
    "item": "article.post",
    "title": "h2.entry-title a, .entry-title a, h2 a",
    "link": "h2.entry-title a, .entry-title a, h2 a",
    "image": ".wp-post-image, .post-thumbnail img",
    "author": ".author, .entry-author"
  },
  "enabled": true,
  "limit": 5
}
```

#### é…ç½®Bï¼šç®€åŒ–é€‰æ‹©å™¨
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "selectors": {
    "item": "article",
    "title": "h2 a",
    "link": "h2 a",
    "image": "img.wp-post-image",
    "author": ".author"
  },
  "enabled": true,
  "limit": 5
}
```

#### é…ç½®Cï¼šé€šç”¨WordPressé€‰æ‹©å™¨
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "selectors": {
    "item": ".post, article",
    "title": ".entry-title a, h2 a, h3 a",
    "link": ".entry-title a, h2 a, h3 a",
    "image": ".wp-post-image",
    "author": ".author, .entry-meta .author"
  },
  "enabled": true,
  "limit": 5
}
```

---

### æ–¹æ¡ˆ2ï¼šå¢å¼ºçˆ¬è™«ä»£ç ï¼ˆå¦‚æœé€‰æ‹©å™¨æ›´æ–°æ— æ•ˆï¼‰â­â­

ä¿®æ”¹ `src/crawlers/base.py` ä¸­çš„ `WebCrawler` ç±»ï¼Œæ·»åŠ æ›´æ™ºèƒ½çš„é€‰æ‹©å™¨åŒ¹é…ï¼š

```python
def _extract_item(self, element, soup: BeautifulSoup) -> Optional[NewsItem]:
    """ä»å…ƒç´ ä¸­æå–èµ„è®¯æ¡ç›® - å¢å¼ºç‰ˆ"""
    try:
        # å°è¯•å¤šä¸ªå¯èƒ½çš„æ ‡é¢˜é€‰æ‹©å™¨
        title_selectors = [
            self.config.selectors.title,
            'h2 a', 'h3 a', 'h1 a',
            '.entry-title a', '.post-title a',
            'h2', 'h3', 'h1'
        ]
        
        title = None
        title_elem = None
        for selector in title_selectors:
            try:
                title_elem = element.select_one(selector)
                if title_elem:
                    title = title_elem.get_text(strip=True)
                    if title:
                        break
            except:
                continue
        
        if not title:
            return None
        
        # å°è¯•å¤šä¸ªå¯èƒ½çš„é“¾æ¥é€‰æ‹©å™¨
        link_selectors = [
            self.config.selectors.link,
            'h2 a', 'h3 a', 'h1 a',
            '.entry-title a', '.post-title a',
            'a[href*=".html"]', 'a[href*="/20"]'
        ]
        
        url = None
        for selector in link_selectors:
            try:
                link_elem = element.select_one(selector)
                if link_elem:
                    url = link_elem.get('href', '')
                    if url:
                        break
            except:
                continue
        
        if not url:
            # å°è¯•åœ¨å…ƒç´ å†…æ‰¾åˆ°ä»»ä½•æ–‡ç« é“¾æ¥
            all_links = element.find_all('a', href=True)
            for link in all_links:
                href = link.get('href', '')
                if '.html' in href or '/20' in href:
                    url = href
                    break
        
        if not url:
            return None
        
        # å¤„ç†ç›¸å¯¹é“¾æ¥
        if url.startswith('/'):
            from urllib.parse import urljoin
            url = urljoin(self.config.url, url)
        
        # æå–ä½œè€…ï¼ˆå¯é€‰ï¼‰
        author = None
        if self.config.selectors.author:
            try:
                author_elem = element.select_one(self.config.selectors.author)
                if author_elem:
                    author = author_elem.get_text(strip=True)
            except:
                pass
        
        # æå–å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
        image_url = None
        if self.config.selectors.image:
            try:
                img_elem = element.select_one(self.config.selectors.image)
                if not img_elem:
                    # å°è¯•æ‰¾ä»»ä½•å›¾ç‰‡
                    img_elem = element.find('img')
                if img_elem:
                    image_url = img_elem.get('src') or img_elem.get('data-src')
                    if image_url and image_url.startswith('/'):
                        from urllib.parse import urljoin
                        image_url = urljoin(self.config.url, image_url)
            except:
                pass
        
        return NewsItem(
            title=title,
            url=url,
            author=author,
            category=self.config.category,
            source=self.config.name,
            image_url=image_url
        )
        
    except Exception as e:
        logger.warning(f"Error extracting item: {e}")
        return None
```

---

### æ–¹æ¡ˆ3ï¼šæ·»åŠ RSSæºï¼ˆæœ€ç¨³å®šï¼‰â­â­â­â­â­

å¦‚æœè®¾è®¡è¾¾äººæä¾›RSS feedï¼Œè¿™æ˜¯æœ€ç¨³å®šçš„æ–¹æ¡ˆï¼š

```bash
# æ£€æŸ¥å¸¸è§çš„RSSè·¯å¾„
https://www.shejidaren.com/feed
https://www.shejidaren.com/rss
https://www.shejidaren.com/feed.xml
https://www.shejidaren.com/rss.xml
```

å¦‚æœæœ‰RSSï¼Œé…ç½®å¦‚ä¸‹ï¼š
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/feed",
  "type": "rss",
  "category": "è®¾è®¡èµ„æº",
  "enabled": true,
  "limit": 5
}
```

---

### æ–¹æ¡ˆ4ï¼šä¸´æ—¶ç¦ç”¨ï¼Œæ·»åŠ æ›¿ä»£æ¥æºâ­â­

å¦‚æœä»¥ä¸Šæ–¹æ¡ˆéƒ½æ— æ•ˆï¼Œå¯ä»¥ï¼š

1. **ä¸´æ—¶ç¦ç”¨è®¾è®¡è¾¾äºº**
```json
{
  "name": "è®¾è®¡è¾¾äºº",
  "url": "https://www.shejidaren.com/",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "enabled": false,
  "limit": 5
}
```

2. **æ·»åŠ æ›¿ä»£çš„ä¸­æ–‡è®¾è®¡èµ„æºæ¥æº**

#### ç«™é…·ï¼ˆZCOOLï¼‰
```json
{
  "name": "ç«™é…·",
  "url": "https://www.zcool.com.cn/discover",
  "type": "web",
  "category": "è®¾è®¡èµ„æº",
  "selectors": {
    "item": ".card-box",
    "title": ".card-title",
    "link": "a.card-img-hover",
    "image": "img",
    "author": ".card-profile-name"
  },
  "enabled": true,
  "limit": 6
}
```

#### ä¼˜ä¼˜æ•™ç¨‹ç½‘
```json
{
  "name": "ä¼˜ä¼˜æ•™ç¨‹ç½‘",
  "url": "https://uiiiuiii.com/",
  "type": "web",
  "category": "è®¾è®¡æ•™ç¨‹",
  "selectors": {
    "item": ".post-item",
    "title": ".post-title a",
    "link": ".post-title a",
    "image": ".post-thumb img",
    "author": ".author"
  },
  "enabled": true,
  "limit": 5
}
```

#### å°‘æ•°æ´¾ï¼ˆæœ‰RSSï¼‰
```json
{
  "name": "å°‘æ•°æ´¾",
  "url": "https://sspai.com/feed",
  "type": "rss",
  "category": "æ•°å­—ç”Ÿæ´»",
  "enabled": true,
  "limit": 5
}
```

---

## ğŸ¯ æ¨èå®æ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå°è¯•é…ç½®Aï¼ˆ5åˆ†é’Ÿï¼‰
1. æ›´æ–° `config/sources.json` ä¸­è®¾è®¡è¾¾äººçš„é…ç½®ä¸º**é…ç½®A**
2. è¿è¡Œæµ‹è¯•ï¼š`python3 test_shejidaren_simple.py`
3. å¦‚æœæˆåŠŸï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### ç¬¬äºŒæ­¥ï¼šå¦‚æœå¤±è´¥ï¼Œå°è¯•é…ç½®Bï¼ˆ5åˆ†é’Ÿï¼‰
1. æ›´æ–°ä¸º**é…ç½®B**
2. å†æ¬¡æµ‹è¯•
3. å¦‚æœæˆåŠŸï¼Œéƒ¨ç½²

### ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥RSSï¼ˆ10åˆ†é’Ÿï¼‰
1. è®¿é—® https://www.shejidaren.com/feed
2. å¦‚æœæœ‰RSSï¼Œä½¿ç”¨**æ–¹æ¡ˆ3**
3. è¿™æ˜¯æœ€ç¨³å®šçš„æ–¹æ¡ˆ

### ç¬¬å››æ­¥ï¼šæ·»åŠ æ›¿ä»£æ¥æºï¼ˆ15åˆ†é’Ÿï¼‰
1. å¦‚æœä»¥ä¸Šéƒ½å¤±è´¥ï¼Œä½¿ç”¨**æ–¹æ¡ˆ4**
2. ä¸´æ—¶ç¦ç”¨è®¾è®¡è¾¾äºº
3. æ·»åŠ ç«™é…·æˆ–å°‘æ•°æ´¾ç­‰æ›¿ä»£æ¥æº

---

## ğŸ“ æµ‹è¯•å‘½ä»¤

```bash
# 1. æµ‹è¯•å•ä¸ªæ¥æº
python3 test_shejidaren_simple.py

# 2. æµ‹è¯•æ‰€æœ‰æ¥æº
python3 check_sources.py

# 3. ç”Ÿæˆä»Šæ—¥å†…å®¹ï¼ˆå®Œæ•´æµ‹è¯•ï¼‰
python3 generate_today.py
```

---

## âœ… æˆåŠŸæ ‡å‡†

ä¿®å¤æˆåŠŸçš„æ ‡å¿—ï¼š
1. âœ… èƒ½æŠ“å–åˆ°5æ¡å·¦å³çš„æ–‡ç« 
2. âœ… æ–‡ç« æ ‡é¢˜å®Œæ•´
3. âœ… æ–‡ç« é“¾æ¥æœ‰æ•ˆï¼ˆæŒ‡å‘ shejidaren.comï¼‰
4. âœ… å›¾ç‰‡é“¾æ¥æ­£å¸¸ï¼ˆå¯é€‰ï¼‰

---

## ğŸ” è°ƒè¯•æŠ€å·§

å¦‚æœåœ¨GitHub Actionsä¸­è¿è¡Œå¤±è´¥ï¼š

1. **æŸ¥çœ‹Actionsæ—¥å¿—**
   - æœç´¢ "è®¾è®¡è¾¾äºº"
   - æŸ¥çœ‹å…·ä½“é”™è¯¯ä¿¡æ¯

2. **å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ**
   - `403 Forbidden`: æ·»åŠ æ›´çœŸå®çš„User-Agent
   - `Timeout`: å¢åŠ è¯·æ±‚è¶…æ—¶æ—¶é—´
   - `Empty result`: CSSé€‰æ‹©å™¨å¤±æ•ˆï¼Œéœ€è¦æ›´æ–°
   - `SSL Error`: åœ¨ç”Ÿäº§ç¯å¢ƒé€šå¸¸ä¸ä¼šå‡ºç°

3. **ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**
   - å¦‚æœæŒç»­å¤±è´¥ï¼Œå…ˆç¦ç”¨è¯¥æ¥æº
   - æ·»åŠ æ›¿ä»£çš„ä¸­æ–‡è®¾è®¡èµ„æº
   - ç­‰å¾…ç½‘ç«™æ¢å¤æ­£å¸¸åå†å¯ç”¨

---

## ğŸ“Š é¢„æœŸç»“æœ

ä¿®å¤åï¼Œè®¾è®¡è¾¾äººåº”è¯¥èƒ½å¤Ÿæ¯å¤©æŠ“å–åˆ°ï¼š
- **æ•°é‡**ï¼š5æ¡è®¾è®¡ç›¸å…³æ–‡ç« 
- **ç±»å‹**ï¼šè®¾è®¡æ•™ç¨‹ã€è®¾è®¡èµ„æºã€è®¾è®¡å·¥å…·ç­‰
- **è¯­è¨€**ï¼šä¸­æ–‡
- **è´¨é‡**ï¼šé«˜è´¨é‡åŸåˆ›æˆ–ç²¾é€‰å†…å®¹

è¿™å°†ä½¿ä¸­æ–‡å†…å®¹å æ¯”ä»9.1%æå‡åˆ°çº¦15-20%ã€‚

---

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**ï¼š
1. æˆ‘å¯ä»¥å¸®ä½ ç«‹å³æ›´æ–°é…ç½®æ–‡ä»¶ï¼ˆæ¨èé…ç½®Aï¼‰
2. æˆ–è€…å…ˆæ·»åŠ RSSæºï¼ˆå¦‚æœå­˜åœ¨ï¼‰
3. æˆ–è€…ç›´æ¥æ·»åŠ æ›¿ä»£æ¥æº

ä½ æƒ³å…ˆå°è¯•å“ªä¸ªæ–¹æ¡ˆï¼Ÿ
